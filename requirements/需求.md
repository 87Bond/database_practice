# 医院挂号系统的用户角色、功能模块与核心数据实体

## 一、系统用户角色定义

| 用户角色       | 主要职责                                                     | 关键需求与特征                             |
| -------------- | ------------------------------------------------------------ | ------------------------------------------ |
| **患者**       | 查询科室与医生信息、预约挂号、取消挂号、查看挂号记录与诊疗结果 | 操作简便、数据隐私安全、流程可视化         |
| **医生**       | 管理个人号源、查看预约患者信息、录入诊疗记录                 | 信息准确、操作高效、数据同步及时           |
| **科室管理员** | 管理本科室医生与排班、调整号源、统计本科室数据               | 关注号源利用率与医生工作量，权限仅限本科室 |
| **系统管理员** | 维护系统运行、用户权限、数据备份与日志管理                   | 保障系统安全与稳定、实现全院级管理功能     |

------

## 二、系统功能模块设计

### （一）公共模块

| 功能            | 说明                                                   |
| --------------- | ------------------------------------------------------ |
| 用户注册 / 登录 | 支持手机号注册与验证码登录；医生和管理员由系统分配账号 |
| 密码找回        | 通过短信或邮箱重置密码                                 |
| 公告管理        | 医院通知、专家排班变更、临时停诊公告                   |
| 日志审计        | 记录系统操作与异常行为，确保可追溯性                   |

------

### （二）患者模块

| 功能           | 说明                                         |
| -------------- | -------------------------------------------- |
| 科室与医生查询 | 按科室或医生筛选，查看简介、职称、坐诊时间   |
| 挂号预约       | 选择就诊日期和时段，确认并支付挂号费用       |
| 挂号取消       | 在就诊前规定时间内取消挂号，系统自动释放号源 |
| 个人信息管理   | 修改联系方式，查看诊疗记录                   |
| 费用管理       | 查询支付记录与退款状态                       |

------

### （三）医生模块

| 功能           | 说明                                 |
| -------------- | ------------------------------------ |
| 排班与号源管理 | 查看与调整个人出诊计划、放号数量     |
| 患者列表       | 查看每日预约患者、历史就诊信息       |
| 诊疗记录录入   | 录入病情、医嘱、处方等信息           |
| 数据统计       | 查看个人挂号量、爽约率等数据分析报表 |

------

### （四）科室管理员模块

| 功能         | 说明                                 |
| ------------ | ------------------------------------ |
| 医生管理     | 新增、编辑、禁用本科室医生账号       |
| 科室排班管理 | 管理本科室医生出诊表、号源放号规则   |
| 数据统计     | 统计本科室挂号量、就诊量、爽约率     |
| 公告管理     | 发布本科室级别通知（如医生临时停诊） |

------

### （五）系统管理员模块

| 功能           | 说明                                             |
| -------------- | ------------------------------------------------ |
| 用户与权限管理 | 创建、修改医生与管理员账号；分配角色与权限       |
| 基础数据管理   | 科室、疾病类型、挂号费用、放号时间规则           |
| 数据运维       | 系统备份、恢复、日志查看、异常告警               |
| 全院统计分析   | 按科室、医生、时间维度生成报表，可导出 Excel/PDF |

------

## 三、核心数据实体设计

| 实体名称                        | 关键字段                                                     | 说明                   |
| ------------------------------- | ------------------------------------------------------------ | ---------------------- |
| **Patient（患者表）**           | PatientID, Name, Gender, Phone, IDCard, Password             | 存储患者基本信息       |
| **Doctor（医生表）**            | DoctorID, Name, DepartmentID, Title, Specialty, Phone        | 医生信息与所属科室     |
| **Department（科室表）**        | DepartmentID, Name, Introduction, Location                   | 科室信息               |
| **ClinicSession（排班表）**     | SessionID, DoctorID, DepartmentID, Date, StartTime, EndTime, MaxQuota, LeftQuota | 医生每日排班与号源分配 |
| **Registration（挂号表）**      | RegID, PatientID, DoctorID, SessionID, RegDate, Status, Fee, PayStatus | 患者挂号记录           |
| **MedicalRecord（诊疗记录表）** | RecordID, RegID, Diagnosis, TreatmentPlan, Advice            | 医生诊疗结果           |
| **SystemUser（系统用户表）**    | UserID, UserName, RoleID, Password, Phone                    | 管理员与科室管理员账号 |
| **Announcement（公告表）**      | AnnounceID, Title, Content, CreateUserID, CreateTime         | 医院与科室公告         |
| **AuditLog（日志表）**          | LogID, UserID, Action, Target, Time                          | 记录系统关键操作       |

------

## 四、核心关系说明

- 一个科室有多个医生（`Department → Doctor` 一对多）；
- 一个医生有多个排班（`Doctor → ClinicSession` 一对多）；
- 一个排班对应多个挂号（`ClinicSession → Registration` 一对多）；
- 一个挂号对应一个诊疗记录（`Registration → MedicalRecord` 一对一）；
- 一个系统用户可发布多个公告（`SystemUser → Announcement` 一对多）。

------

## 五、总结

该系统的用户角色划分清晰、功能模块层次分明、数据实体结构合理，
 能够支持从“挂号预约 → 支付 → 就诊记录 → 数据统计”的完整业务流程，
 同时兼顾系统安全性、扩展性与可维护性。